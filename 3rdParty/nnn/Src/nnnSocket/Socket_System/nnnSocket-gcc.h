//--------------------------------------------------------------------------------------
// Copyright (c) AcgDev
// https://www.AcgDev.com/
//
// Desc : 一些 gcc 转换到 WinSock 的东西
//--------------------------------------------------------------------------------------

#pragma once
#ifndef _NNNSOCKET___NNNSOCKET_GCC_H_
#define _NNNSOCKET___NNNSOCKET_GCC_H_

#include "../../common/common-macro.h"
#include "nnnSocket-inc.h"

#if (NNN_PLATFORM != NNN_PLATFORM_WIN32) && (NNN_PLATFORM != NNN_PLATFORM_WP8)
#include "../../common/common.h"

typedef int	SOCKET;

#define INVALID_SOCKET	(SOCKET)(~0)
#define SOCKET_ERROR			(-1)

#define SD_RECEIVE	SHUT_RD
#define SD_SEND		SHUT_WR
#define SD_BOTH		SHUT_RDWR

/*
// 参考：https://blog.csdn.net/u012252959/article/details/50462089
#undef WSAEINTR
//#undef WSAENOTSOCK
#undef WSAEBADF
#undef WSAEACCES
#undef WSAEFAULT
#undef WSAEINVAL
#undef WSAEMFILE
//#undef WSAEWOULDBLOCK
#undef WSAEWOULDBLOCK
#undef WSAEINPROGRESS
#undef WSAEALREADY
#undef WSAENOTSOCK
#undef WSAEDESTADDRREQ
#undef WSAEMSGSIZE
#undef WSAEPROTOTYPE
#undef WSAENOPROTOOPT
#undef WSAEPROTONOSUPPORT
#undef WSAESOCKTNOSUPPORT
#undef WSAEOPNOTSUPP
#undef WSAEPFNOSUPPORT
#undef WSAEAFNOSUPPORT
#undef WSAEADDRINUSE
#undef WSAEADDRNOTAVAIL
#undef WSAENETDOWN
#undef WSAENETUNREACH
#undef WSAENETRESET
#undef WSAECONNABORTED
#undef WSAECONNRESET
#undef WSAENOBUFS
#undef WSAEISCONN
#undef WSAENOTCONN
#undef WSAESHUTDOWN
#undef WSAETOOMANYREFS
#undef WSAETIMEDOUT
#undef WSAECONNREFUSED
#undef WSAELOOP
#undef WSAENAMETOOLONG
#undef WSAEHOSTDOWN
#undef WSAEHOSTUNREACH
#undef WSAHOST_NOT_FOUND
#undef WSATRY_AGAIN
#undef WSANO_RECOVERY
#undef WSANO_DATA

#undef WSA_IO_PENDING

#define WSAEINTR			EINTR
//#define WSAENOTSOCK		EBADF	//ENOTSOCK
#define WSAEBADF			EBADF	//ENOTSOCK
#define WSAEACCES			EACCES
#define WSAEFAULT			EFAULT
#define WSAEINVAL			EINVAL
#define WSAEMFILE			EMFILE
//#define WSAEWOULDBLOCK	EAGAIN	//EWOULDBLOCK
#define WSAEWOULDBLOCK		EWOULDBLOCK
#define WSAEINPROGRESS		EINPROGRESS
#define WSAEALREADY			EALREADY
#define WSAENOTSOCK			ENOTSOCK
#define WSAEDESTADDRREQ		EDESTADDRREQ
#define WSAEMSGSIZE			EMSGSIZE
#define WSAEPROTOTYPE		EPROTOTYPE
#define WSAENOPROTOOPT		ENOPROTOOPT
#define WSAEPROTONOSUPPORT	EPROTONOSUPPORT
#define WSAESOCKTNOSUPPORT	ESOCKTNOSUPPORT
#define WSAEOPNOTSUPP		EOPNOTSUPP
#define WSAEPFNOSUPPORT		EPFNOSUPPORT
#define WSAEAFNOSUPPORT		EAFNOSUPPORT
#define WSAEADDRINUSE		EADDRINUSE
#define WSAEADDRNOTAVAIL	EADDRNOTAVAIL
#define WSAENETDOWN			ENETDOWN
#define WSAENETUNREACH		ENETUNREACH
#define WSAENETRESET		ENETRESET
#define WSAECONNABORTED		ECONNABORTED
#define WSAECONNRESET		ECONNRESET
#define WSAENOBUFS			ENOBUFS
#define WSAEISCONN			EISCONN
#define WSAENOTCONN			ENOTCONN
#define WSAESHUTDOWN		ESHUTDOWN
#define WSAETOOMANYREFS		ETOOMANYREFS
#define WSAETIMEDOUT		ETIMEDOUT
#define WSAECONNREFUSED		ECONNREFUSED
#define WSAELOOP			ELOOP
#define WSAENAMETOOLONG		ENAMETOOLONG
#define WSAEHOSTDOWN		EHOSTDOWN
#define WSAEHOSTUNREACH		EHOSTUNREACH
#define WSAHOST_NOT_FOUND	HOST_NOT_FOUND
#define WSATRY_AGAIN		TRY_AGAIN
#define WSANO_RECOVERY		NO_RECOVERY
#define WSANO_DATA			NO_DATA

#define WSA_IO_PENDING		EINPROGRESS

//#define WSASYSNOTREADY
//#define WSAVERNOTSUPPORTED
//#define WSANOTINITIALISED
//#define WSAEDISCON

inline DWORD WSAGetLastError()	{ return (DWORD)errno; }
*/

#endif	// !NNN_PLATFORM_WIN32 && !NNN_PLATFORM_WP8

#endif	// _NNNSOCKET___NNNSOCKET_GCC_H_
